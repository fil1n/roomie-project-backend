--
-- PostgreSQL database dump
--

-- Dumped from database version 10.10 (Ubuntu 10.10-0ubuntu0.18.04.1)
-- Dumped by pg_dump version 10.10 (Ubuntu 10.10-0ubuntu0.18.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: city; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.city (
    id bigint NOT NULL,
    country_id bigint,
    latitude double precision,
    longitude double precision,
    name character varying(255),
    region_id bigint,
    country_idd bigint,
    citys_country_id bigint
);


ALTER TABLE public.city OWNER TO postgres;

--
-- Name: communication_type; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.communication_type (
    id bigint NOT NULL,
    chat_id character varying(255),
    name character varying(255),
    knot_id bigint
);


ALTER TABLE public.communication_type OWNER TO postgres;

--
-- Name: counties; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.counties (
    id bigint NOT NULL,
    code_e character varying(255),
    name_e character varying(255),
    country_pref_id bigint
);


ALTER TABLE public.counties OWNER TO postgres;

--
-- Name: group_s; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.group_s (
    id bigint NOT NULL,
    max_num_of_users bigint,
    user_id bigint,
    ejection_date date,
    name character varying(255),
    settlement_date date,
    city_id bigint
);


ALTER TABLE public.group_s OWNER TO postgres;

--
-- Name: habbit; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.habbit (
    id bigint NOT NULL,
    name character varying(255),
    options integer
);


ALTER TABLE public.habbit OWNER TO postgres;

--
-- Name: hibernate_sequence; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.hibernate_sequence
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.hibernate_sequence OWNER TO postgres;

--
-- Name: lang_preferences; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.lang_preferences (
    id bigint NOT NULL,
    lang character varying(255)
);


ALTER TABLE public.lang_preferences OWNER TO postgres;

--
-- Name: pref_id; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.pref_id (
    userpreferences_id bigint,
    id bigint NOT NULL
);


ALTER TABLE public.pref_id OWNER TO postgres;

--
-- Name: question; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.question (
    id bigint NOT NULL,
    ans boolean,
    body character varying(255)
);


ALTER TABLE public.question OWNER TO postgres;

--
-- Name: trusted_knot; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.trusted_knot (
    trusted_user_id bigint NOT NULL,
    trusted_group_id bigint NOT NULL
);


ALTER TABLE public.trusted_knot OWNER TO postgres;

--
-- Name: untrusted_knot; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.untrusted_knot (
    untrusted_user_id bigint NOT NULL,
    untrusted_group_id bigint NOT NULL
);


ALTER TABLE public.untrusted_knot OWNER TO postgres;

--
-- Name: user_habbits; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_habbits (
    user_id bigint NOT NULL,
    habbit_id bigint NOT NULL
);


ALTER TABLE public.user_habbits OWNER TO postgres;

--
-- Name: user_lang_list; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_lang_list (
    id bigint NOT NULL,
    lang_name character varying(255),
    user_id bigint NOT NULL
);


ALTER TABLE public.user_lang_list OWNER TO postgres;

--
-- Name: user_preferences; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_preferences (
    id bigint NOT NULL,
    user_id bigint,
    preferences_id bigint NOT NULL,
    habbit_id bigint NOT NULL
);


ALTER TABLE public.user_preferences OWNER TO postgres;

--
-- Name: user_s; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_s (
    id bigint NOT NULL,
    current_city bigint,
    first_name character varying(255),
    last_name character varying(255),
    native_city bigint,
    uni_id bigint,
    current_city_id bigint,
    native_city_id bigint,
    add_info character varying(255),
    e_mail character varying(255),
    language character varying(255),
    max_neighbors_num bigint,
    password character varying(255),
    phone character varying(255),
    sex integer
);


ALTER TABLE public.user_s OWNER TO postgres;

--
-- Data for Name: city; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.city (id, country_id, latitude, longitude, name, region_id, country_idd, citys_country_id) FROM stdin;
27	\N	\N	\N	MUHO	11	\N	\N
28	\N	\N	\N	MUHO	11	\N	\N
29	\N	\N	\N	MUHO	11	\N	\N
30	\N	\N	\N	MUHO	11	\N	\N
31	\N	\N	\N	MUHO	11	\N	\N
32	\N	\N	\N	MUHO	11	\N	\N
\.


--
-- Data for Name: communication_type; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.communication_type (id, chat_id, name, knot_id) FROM stdin;
\.


--
-- Data for Name: counties; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.counties (id, code_e, name_e, country_pref_id) FROM stdin;
\.


--
-- Data for Name: group_s; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.group_s (id, max_num_of_users, user_id, ejection_date, name, settlement_date, city_id) FROM stdin;
25	\N	11	2012-12-13	gg	2012-12-11	\N
26	\N	11	2012-12-13	gg	2012-12-11	\N
\.


--
-- Data for Name: habbit; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.habbit (id, name, options) FROM stdin;
\.


--
-- Data for Name: lang_preferences; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.lang_preferences (id, lang) FROM stdin;
\.


--
-- Data for Name: pref_id; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.pref_id (userpreferences_id, id) FROM stdin;
\.


--
-- Data for Name: question; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.question (id, ans, body) FROM stdin;
\.


--
-- Data for Name: trusted_knot; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.trusted_knot (trusted_user_id, trusted_group_id) FROM stdin;
\.


--
-- Data for Name: untrusted_knot; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.untrusted_knot (untrusted_user_id, untrusted_group_id) FROM stdin;
\.


--
-- Data for Name: user_habbits; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_habbits (user_id, habbit_id) FROM stdin;
\.


--
-- Data for Name: user_lang_list; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_lang_list (id, lang_name, user_id) FROM stdin;
\.


--
-- Data for Name: user_preferences; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_preferences (id, user_id, preferences_id, habbit_id) FROM stdin;
\.


--
-- Data for Name: user_s; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_s (id, current_city, first_name, last_name, native_city, uni_id, current_city_id, native_city_id, add_info, e_mail, language, max_neighbors_num, password, phone, sex) FROM stdin;
1	\N	123	312	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
2	\N	123	312	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
3	\N	123	312	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
4	\N	123	312	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
5	\N	123	312	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
6	\N	123	312	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
7	\N	123	312	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
8	\N	123	312	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
9	\N	123	312	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
10	\N	123	312	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
11	\N	123	123	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
12	\N	123	123	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
13	\N	123	123	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
14	\N	123	123	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
15	\N	123	123	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
16	\N	123	123	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
17	\N	123	123	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
19	\N	123	123	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
21	\N	vasya	pupkin	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N	\N
22	\N	vasya	pupkin	\N	\N	\N	\N	123	123	123	\N	$2a$10$Cxg2bw5PFoMEpyvVVhZqfuXXxOog6gZ/NiHRf7K7SPQALlQW2PbK6	\N	\N
23	\N	vasya	pupkin	\N	\N	\N	\N	lol kek	vasya@mail.com	rus	\N	$2a$10$oZwZEqv/RQ7tlxJ36MMT6O9vjDyzJMYAaC02cIO0BUNLMU3nHttv.	\N	\N
24	\N	vasya	pupkin	\N	\N	\N	\N	lol kek	vasya@mail.com	rus	\N	$2a$10$QmB4W5swQbOuaqyZrzI/SO8I295YdWA4MuvowfzmDiWJBEMiGTclq	\N	\N
\.


--
-- Name: hibernate_sequence; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.hibernate_sequence', 32, true);


--
-- Name: city city_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.city
    ADD CONSTRAINT city_pkey PRIMARY KEY (id);


--
-- Name: communication_type communication_type_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.communication_type
    ADD CONSTRAINT communication_type_pkey PRIMARY KEY (id);


--
-- Name: counties counties_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.counties
    ADD CONSTRAINT counties_pkey PRIMARY KEY (id);


--
-- Name: group_s group_s_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.group_s
    ADD CONSTRAINT group_s_pkey PRIMARY KEY (id);


--
-- Name: habbit habbit_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.habbit
    ADD CONSTRAINT habbit_pkey PRIMARY KEY (id);


--
-- Name: lang_preferences lang_preferences_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.lang_preferences
    ADD CONSTRAINT lang_preferences_pkey PRIMARY KEY (id);


--
-- Name: pref_id pref_id_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pref_id
    ADD CONSTRAINT pref_id_pkey PRIMARY KEY (id);


--
-- Name: question question_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.question
    ADD CONSTRAINT question_pkey PRIMARY KEY (id);


--
-- Name: user_lang_list user_lang_list_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_lang_list
    ADD CONSTRAINT user_lang_list_pkey PRIMARY KEY (id);


--
-- Name: user_preferences user_preferences_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_preferences
    ADD CONSTRAINT user_preferences_pkey PRIMARY KEY (id);


--
-- Name: user_s user_s_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_s
    ADD CONSTRAINT user_s_pkey PRIMARY KEY (id);


--
-- Name: trusted_knot fk1mj2btcaqifyii3uhusa9ufnp; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trusted_knot
    ADD CONSTRAINT fk1mj2btcaqifyii3uhusa9ufnp FOREIGN KEY (trusted_user_id) REFERENCES public.user_s(id);


--
-- Name: city fk3jw6etm6i5sgau4ijk5j81ckj; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.city
    ADD CONSTRAINT fk3jw6etm6i5sgau4ijk5j81ckj FOREIGN KEY (country_idd) REFERENCES public.counties(id);


--
-- Name: trusted_knot fk6t87290cg582stg1aitjsggh5; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.trusted_knot
    ADD CONSTRAINT fk6t87290cg582stg1aitjsggh5 FOREIGN KEY (trusted_group_id) REFERENCES public.group_s(id);


--
-- Name: user_preferences fk7ogc20l7yy0pjdwu4nteh2qh0; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_preferences
    ADD CONSTRAINT fk7ogc20l7yy0pjdwu4nteh2qh0 FOREIGN KEY (user_id) REFERENCES public.user_s(id);


--
-- Name: user_habbits fk9roth5qyugcu6mx6ek57gb2mf; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_habbits
    ADD CONSTRAINT fk9roth5qyugcu6mx6ek57gb2mf FOREIGN KEY (habbit_id) REFERENCES public.habbit(id);


--
-- Name: user_lang_list fkav0ek6a72prajjp1sc066sbf8; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_lang_list
    ADD CONSTRAINT fkav0ek6a72prajjp1sc066sbf8 FOREIGN KEY (user_id) REFERENCES public.user_s(id);


--
-- Name: group_s fkbkbp881rb86lidcqtt98lsd0r; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.group_s
    ADD CONSTRAINT fkbkbp881rb86lidcqtt98lsd0r FOREIGN KEY (user_id) REFERENCES public.user_s(id);


--
-- Name: pref_id fkeg161p4tgdcgcxtfjn79xw6b5; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pref_id
    ADD CONSTRAINT fkeg161p4tgdcgcxtfjn79xw6b5 FOREIGN KEY (id) REFERENCES public.lang_preferences(id);


--
-- Name: untrusted_knot fkgis4fs6qhncebxy4whgef8svq; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.untrusted_knot
    ADD CONSTRAINT fkgis4fs6qhncebxy4whgef8svq FOREIGN KEY (untrusted_user_id) REFERENCES public.user_s(id);


--
-- Name: counties fki8qgprg3gxngtfcg20p8drv3l; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.counties
    ADD CONSTRAINT fki8qgprg3gxngtfcg20p8drv3l FOREIGN KEY (country_pref_id) REFERENCES public.user_preferences(id);


--
-- Name: untrusted_knot fkifocv33nqx7n7ymf0847oo0m0; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.untrusted_knot
    ADD CONSTRAINT fkifocv33nqx7n7ymf0847oo0m0 FOREIGN KEY (untrusted_group_id) REFERENCES public.group_s(id);


--
-- Name: city fkj8fsyy55scbqk6fpuj2x3tw8o; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.city
    ADD CONSTRAINT fkj8fsyy55scbqk6fpuj2x3tw8o FOREIGN KEY (citys_country_id) REFERENCES public.counties(id);


--
-- Name: user_s fkjsa5s863ao4cvx93dw3ciyk0g; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_s
    ADD CONSTRAINT fkjsa5s863ao4cvx93dw3ciyk0g FOREIGN KEY (native_city_id) REFERENCES public.city(id);


--
-- Name: user_s fkmgo2hb5ema48rcbgcm41f6en5; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_s
    ADD CONSTRAINT fkmgo2hb5ema48rcbgcm41f6en5 FOREIGN KEY (current_city_id) REFERENCES public.city(id);


--
-- Name: user_preferences fkn80gvb1rmshpwamwc5f41d9og; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_preferences
    ADD CONSTRAINT fkn80gvb1rmshpwamwc5f41d9og FOREIGN KEY (habbit_id) REFERENCES public.habbit(id);


--
-- Name: user_preferences fko6qyx8u57hy3sbisg0fcgc7il; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_preferences
    ADD CONSTRAINT fko6qyx8u57hy3sbisg0fcgc7il FOREIGN KEY (preferences_id) REFERENCES public.user_preferences(id);


--
-- Name: user_habbits fkpgjeg5oaj9lly7gusw7gpyxhs; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_habbits
    ADD CONSTRAINT fkpgjeg5oaj9lly7gusw7gpyxhs FOREIGN KEY (user_id) REFERENCES public.user_s(id);


--
-- Name: group_s fkpr0ks7wdlgiu8fsrdd770r3kg; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.group_s
    ADD CONSTRAINT fkpr0ks7wdlgiu8fsrdd770r3kg FOREIGN KEY (city_id) REFERENCES public.city(id);


--
-- Name: pref_id fkqd4u8unnnrwtv5donumpxvjf4; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.pref_id
    ADD CONSTRAINT fkqd4u8unnnrwtv5donumpxvjf4 FOREIGN KEY (userpreferences_id) REFERENCES public.user_preferences(id);


--
-- Name: communication_type fkruwdto62atr8hxytqjdimgbuo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.communication_type
    ADD CONSTRAINT fkruwdto62atr8hxytqjdimgbuo FOREIGN KEY (knot_id) REFERENCES public.group_s(id);


--
-- PostgreSQL database dump complete
--

